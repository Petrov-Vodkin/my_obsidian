2021-10-27 19:52
[link](https://tproger.ru/explain/python-dictionaries/) [doc_ru](https://pythonchik.ru/osnovy/slovari-v-python)
# Dict Py
 — `неупорядоченная структура данных, которая позволяет хранить пары «ключ — значение».` 
```python
# СОЗДАНИЕ
d = {}							# создание пустого словаря
d[key] = volume					# добавить в словарь d => {key: volyme}
# функция dict
d = dict(one='1', five='пять')	# создание словаря со значениями
d = dict([(1, 1), (2, 4)])
# метод fromkeys
d = dict.fromkeys(['a', 'b'])
>>> d
{'a': None, 'b': None} >>> d = dict.fromkeys(['a', 'b'], 100)
>>> d
{'a': 100, 'b': 100}
# генератор словарей
d = {a: a  2 for a in range(7)}
>>> d
{0: 0, 1: 1, 2: 4, 3: 9, 4: 16, 5: 25, 6: 36}

d = {1: 2, 2: 4, 3: 9}
>>> d[1]
2
```
#### Методы словарей
```python
dict.clear() 				# очищает словарь.
dict.copy()					# возвращает копию словаря.
dict.fromkeys(seq[, value]) # создает словарь с ключами из seq и значением value (по умолчанию None).
dict.get(key[, default]) 	# возвращает значение ключа, но если его нет, не бросает исключение, а возвращает default (по умолчанию None).
dict.items()				# возвращает пары (ключ, значение).
dict.keys() 				# возвращает ключи в словаре.
dict.pop(key[, default]) 	# удаляет ключ и возвращает значение. Если ключа нет, возвращает default (по умолчанию бросает исключение).
dict.popitem() 				# удаляет и возвращает пару (ключ, значение). Если словарь пуст, бросает исключение KeyError. Помните, что словари неупорядочены.
dict.setdefault(key[, def])	# возвращает значение ключа, но если его нет, не бросает исключение, а создает ключ с значением default (по умолчанию None).
dict.update([other]) 		# обновляет словарь, добавляя пары (ключ, значение) из other. Существующие ключи перезаписываются. Возвращает None (не новый словарь!).
dict.values() 				# возвращает значения в словаре.
```
```python
dictionary = {'персона': 'человек',
              'марафон': 'гонка бегунов длиной около 26 миль',
              'противостоять': 'оставаться сильным, несмотря на давление',
              'бежать': 'двигаться со скоростью'}
```
Важное уточнение: если вы попробуете использовать изменяемый тип данных в качестве ключа, то получите ошибку:
```python
dictionary = {(1, 2.0): 'кортежи могут быть ключами',
              1: 'целые числа могут быть ключами',
              'бежать': 'строки тоже', 
              ['носок', 1, 2.0]: 'а списки не могут'}
```
Прим. перев. На самом деле проблема не с изменяемыми, а с нехэшируемыми типами данных, но обычно это одно и то же.
### Получение данных из словаря
```python
# берём значение с ключом "марафон"
dictionary['марафон']
```
Опять же, вы получите ошибку, если попытаетесь получить значение по несуществующему ключу. Для избежания подобных ошибок существуют методы, о которых мы сейчас поговорим.
### Добавление и обновление ключей
```python
# Добавляем ключ "туфля" со значением "род обуви, закрывающей ногу не выше щиколотки"
dictionary['туфля'] = 'род обуви, закрывающей ногу не выше щиколотки'
```
Обновление существующих значений происходит абсолютно также:
```python
# Обновляем ключ "туфля" и присваиваем ему значение "хорошая туфля"
dictionary['туфля'] = 'хорошая туфля'
```
### Удаление ключей
Для удаления ключа и соответствующего значения из словаря можно использовать `del`
```python
# Удаляем значение с ключом "противостоять" из словаря
del dictionary['противостоять']
```
## Методы
### Update
Метод `update()` пригодится, если нужно обновить несколько пар сразу. Метод принимает другой словарь в качестве аргумента.
```python
# Добавляем две пары в словарь dictionary, используя метод update
dictionary.update({'бежал': 'бежать в прошедшем времени',
                   'туфли': 'туфля во множественном числе'})
```
```python
>>> dictionary
{'марафон': 'гонка бегунов длиной около 26 миль',
'персона': 'человек',
'бежал': 'бежать в прошедшем времени',
'бежать': 'двигаться со скоростью',
'туфля': 'род обуви, закрывающей ногу не выше щиколотки',
'туфли': 'туфля во множественном числе'}
```
Если вас интересует, почему данные в словаре расположены не в том порядке, в котором они были внесены в него, то это потому что словари не упорядочены.
### Get
```python
# Допустим, у нас есть словарь story_count
story_count = {'сто': 100,
               'девяносто': 90,
               'двенадцать': 12,
               'пять': 5}
```
Метод `get()` возвращает значение по указанному ключу. Если указанного ключа не существует, метод вернёт `None`.
```python
# Ключ "двенадцать" существует и метод get в данном случае вернёт 12
story_count.get('двенадцать')
```
Метод можно использовать для проверки наличия ключей в словаре:
```python
>>> story_count.get('два')
None
```

Также можно указать значение по умолчанию, которое будет возвращено вместо `None`, если ключа в словаре не окажется:

```python
# Метод вернёт 0 в случае, если данного ключа не существует
story_count.get('два', 0)
```

### Pop

Метод `pop()` удаляет ключ и возвращает соответствующее ему значение.

```python
>>> story_count.pop('девяносто')
90
>>> story_count
{'двенадцать': 12, 'сто': 100, 'пять': 5}
```

### Keys

Метод `keys()` возвращает коллекцию ключей в словаре.

```python
>>> story_count.keys()
['сто', 'пять', 'двенадцать']
```

### Values

Метод `values()` возвращает коллекцию значений в словаре.

```python
>>> story_count.values()
[100, 12, 5]
```

### Items

Метод `items()` возвращает пары «ключ — значение».

```python
>>> dictionary.items()
[('персона', 'человек'),
('бежать', 'двигаться со скоростью'),
('туфля', 'род обуви, закрывающей ногу не выше щиколотки'),
('бежал', 'бежать в прошедшем времени'),
('марафон', 'гонка бегунов длиной около 26 миль'),
('туфли', 'туфля во множественном числе')]
```

## Итерация через словарь

Вы можете провести итерацию по каждому ключу в словаре.

```python
for key in story_count:
   print(key)
```

Очевидно, вместо `story_count` можно использовать `story_count.keys()`.

В примере кода ниже ниже цикл `for` использует метод `items()` для получения пары «ключ — значение» на каждую итерацию.

```python
>>> for key, value in dictionary.items():
        print(key, value)
('персона', 'человек')
('бежать', 'двигаться со скоростью')
('туфля', 'род обуви, закрывающей ногу не выше щиколотки')
('бежал', 'бежать в прошедшем времени')
('марафон', 'гонка бегунов длиной около 26 миль')
('туфли', 'туфля во множественном числе')
```
_____________
#### Links
https://proglib.io/p/15-veshchey-kotorye-nuzhno-znat-o-slovaryah-python-2020-03-03

