2021-03-28 18:19
#tag
# Операторы ANY и ALL
 `ANY` и `ALL` возвращает несколько значений одного столбца совместно с (=, <>, <=, >=, <, >).
`Важно! Операторы `ALL` и `ANY` можно использовать только с вложенными запросами`
```sql
amount > ANY (10, 12)# эквивалентно amount > 10
amount < ANY (10, 12)# эквивалентно amount < 12
amount = ANY (10, 12)# эквивалентно (amount = 10) OR (amount = 12), а также amount IN  (10,12)
amount <> ANY (10, 12)# вернет все записи с любым значением `amount,` включая 10 и 12

amount > ALL (10, 12)# эквивалентно amount > 12
amount < ALL (10, 12)# эквивалентно amount < 10
amount = ALL (10, 12)# не вернет ни одной записи, так как эквивалентно (amount = 10) AND (amount = 12)
amount <> ALL (10, 12)# вернет все записи кроме тех,  в которых amount равно 10 или 12
```
```sql
# Вывести информацию о тех книгах, количество которых меньше самого маленького среднего количества книг каждого автора.
SELECT title, author, amount, price
FROM book
WHERE amount < ALL (
        SELECT AVG(amount) 
        FROM book 
        GROUP BY author 
      );
```
```sql
+--------------------+------------------+--------+--------+
| title              | author           | amount | price  |
+--------------------+------------------+--------+--------+
| Мастер и Маргарита | Булгаков М.А.    | 3      | 670.99 |
| Братья Карамазовы  | Достоевский Ф.М. | 3      | 799.01 |
+--------------------+------------------+--------+--------+
```
_____________
#### Links
[[Вложенные запросы]]