2021-02-06 14:46
#virtmachine #виртуал
# QEMU
[Документация пользователя эмулятора процессора QEMU](https://www.opennet.ru/docs/RUS/qemu_doc/#SEC16)
[Запуск на Win](https://www.white-windows.ru/virtualizatsiya-operatsionnyh-sistem-s-pomoshhyu-qemu-osnovy-raboty-s-emulyatorom/)
```bash
qemu-img.exe create -f raw c.img 5000M
```
Файл **qemu-img.exe** в эмуляторе отвечает за создание **IMG**-образов, **с** — это название образа, **5000** — размер виртуального диска в мегабайтах. По умолчанию образ будет создан в папке **QEMU**.
• `qemu-system` — задает архитектуру виртуальной машины.  
• `qemu-img create` — создает файл виртуального **IMG**\-диска, на который будет устанавливаться операционная система.  
• `-m `— выделяет виртуальной _ОС_ указанный объем оперативной памяти.  
• `-hda` — подключает созданный виртуальный диск.  
• `-boot IMG` — указывает, что загрузка должна производиться с виртуального диска, вместо _IMG_ следует указать имя _IMG_\-файла.  
• `cdrom` — содержит путь к установочному образу **ISO**, эмулирует дисковод.
Теперь сформируем следующую команду:
```bash
qemu-system-i386w.exe -boot c -m 350 -hda c.img -cdrom "E:\\WinXP\_SP3.iso"
```
Исполняемый файл в начале команды отвечает за создание виртуальной машины с архитектурой **х86**, **\-boot** с ключом **\-с** сообщает, что грузиться она будет с диска, в значение параметра **\-hda** подставляем созданный образ, а в качестве значения параметра **–cdrom** указываем путь к дистрибутиву Windows.

После выполнения команды появляется окошко _**QEMU**_ с загрузочным меню, в котором мы выбираем установку на диск.
Далее проходим все этапы установки операционной системы вплоть до локальных настроек и загрузки рабочего стола.

Чтобы запустить закрытую виртуальную машину, выполните команду **qemu-system-i386w.exe -hda name.img**, где **name** — название вашего виртуального диска, чтобы удалить ставшую ненужной _VM_, просто удалите из каталога установки **QEMU** созданный **IMG**\-образ.

Управлять _QEMU_ можно с помощью клавиатуры и мыши, для переключения между эмулятором и хостовой машиной используйте комбинацию Ctrl+Alt+G. Запущенная с минимальными настройками ОС не будет иметь доступа к аудио- и сетевой карте, не будет также возможности обмена файлами между виртуальной и хостовой системами.

Нельзя сказать, что _QEMU_ лучше или хуже _VirtualBox_ либо _VMware_, это альтернативное средство виртуализации, имеющие как свои плюсы, так и минусы. _QEMU_ менее удобен, требует знания документации и демонстрирует весьма небольшую производительность. Для ускорения работы в Windows требуется установка и настройка _Диспетчера аппаратного ускорения HAXM_, в Linux – подключение загружаемого модуля ядра _KVM_. С другой стороны, инструмент позволяет эмулировать работу устройств на базе разных архитектур, не поддерживаемые популярными гипервизорами.
_____________
#### Links
[[VirtualOS]]