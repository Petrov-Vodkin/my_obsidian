2021-02-05 13:22
#multiprocessing #многопроцессор 
# Паралельный запуск тестов pytest
[](https://ru.stackoverflow.com/questions/1062951/%d0%9f%d0%b0%d1%80%d0%b0%d0%bb%d0%b5%d0%bb%d1%8c%d0%bd%d1%8b%d0%b9-%d0%b7%d0%b0%d0%bf%d1%83%d1%81%d0%ba-%d1%82%d0%b5%d1%81%d1%82%d0%be%d0%b2-pytest)
```bash
pip install pytest-xdist
```
```bash
pytest -n8 # Опция `-n/--numprocesses` задает количество процессов
# без -n запуск в обычном режиме
```
`xdist` поддерживает несколько типов планировщиков:

-   `load` (по умолчанию): каждый тест выполняется в отдельном воркере
-   `loadscope`: тесты-функции из одного файла выполняются в одном воркере, тесты-методы из одного тесткласса выполняются в одном воркере
-   `loadfile`: тесты из одного файла выполняются в одном воркере
-   `each`: весь набор тестов прогоняется в каждом воркере отдельно, т.е. как если бы прогон тестов выполнялся параллельно в нескольких терминалах сразу.
#### Можно вынести опции в файл конфигурации `pytest.ini`:
```python
[pytest]
addopts = --dist=loadfile
```
_____________
#### Links
[[Python]] [[PyTest]]