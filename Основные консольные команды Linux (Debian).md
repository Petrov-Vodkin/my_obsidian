2021-02-08 16:41
#terminal
# Основные консольные команды Linux (Debian)
[42 команды Linux которые вы должны знать](https://losst.ru/42-komandy-linux-kotorye-vy-dolzhny-znat)
### Системные команды[](https://informatiktv.ru/index.php/nastrojki-linux/37-osnovnye-konsolnye-komandy-linux-debian)   
[[startx]]
```bash
man || info # эта команда выводит справочную информация по нужной вам команде
sudo		# переход в режим суперпользователя 
			sudo !! # повтор посдедней команды с атрибутом sudo 
reboot 		# перезагрузка системы  
poweroff 	# выключение компьютера  
reset 		# очищает окно терминала, работает даже если вы потеряли курсор  
passwd 		# позволяет пользователю поменять свой пароль, а суперпользователю - поменять пароль любого зарегистрированного в системе пользователя  
free 		# получить информацию об оперативной памяти (всего, занято, свободно, в swap).
```

### Команды для работы с файлами
```bash
pwd # показать текущий каталог  
cd 	# переход в заданную папку  
ls 	# показывает список файлов текущей папки, с ключом ('ls -lah')
	 -l # вывод списком, показывает дополнительные сведения о файлах 
	 -h # human readable читаемый вид
	 -a # all скрытые файлы, директории

cp # копирование файлов/папок  
mv # перемещение файлов/папок  
rm # удаление файлов/папок, с ключем `-R` удаляет и все вложенные папки  

mkdir # создать директорию  `-p` 1-я родительская директория(dir0/dir1/dir2)
mkdir -p dir1/{dir4,dir2/dir3} # создаст дир1 с подпапками.....
touch {dir1/{file1,file2},dir1/dir2/{file3,file4}} # создаст файлы в указанных дир
rmdir # удаление пустой папки  
chmod # изменить права доступа к файлу.

touch f_name		# сохдать пустой фаил f_name
echo "text"||comand > f_name	# поместить text || вывод команды в f_name(f_name-создать если нет)
cat file_name		# вывести текст содержание файла
tail -f 			# вывод текста в реальном времени (нужен для log)
# hex редактор xxd
xxd -c 1 -b	f_name	# вывод каждого символа(байта) файла f_name построчно 
		# -b в битах: без -b вывод в ASCII (шестнадцатиричная система) 
```
### Поиск 
```bash
find / -name file1 "*.bin"  	# Поиск начать с корня (/)
	 # -name Найти файлы и директории с именем file1
	 # -iname Поиск по имени БЕЗ учёта РЕГИСТРА
	 # - path "" поиск в указанной директории
				 # '. bin' имена которых оканчиваются на 
find -type f -path "*subdir*/*.jpg" # искать в dir содержащих subdir именно ФАЙЛЫ С РАСШИРЕНИЕМ ".jpg"
find <start_каталог> -size <размер> # ищет файлы и каталоги УКАЗАННОГО размера: "-size 10M"  
						  -<размер> # ищет всё, что весит МЕНЬШЕ указанного размера: "-size -1000k"  
						  +<размер> # ищет всё, что больше БОЛЬШЕ размера: "-size +10c"
# c - Байты;	k - кило;	M - Мега;  G - Гиго;  b - это блоки по 512-Байт (по умолчанию).
		-perm  				 # искать по правам доступа к файлу/каталогу 
		-type <тип> 		 # по типу (f - обычный файл; d - каталог)
		-maxdepth num		 # глубина рекурсии поиска 
		-mindepth num		 # искать с заданного уровня в низ 
		-exec chmod 755 '{}';# изменить права доступа к найденному

grep "string" file 			# найти строку в файле
	  -a "string" file 		# вывод текст строки строки
	  -с "string" file 		# кол-во вхождений строки
	  -r "string" dir 		# найти строку в файлах dir
	  
which halt		    		# отображает полный путь к файлу 'halt'
```
### Команды для работы с архивами
```bash
# zip
unzip  file1.zip			# распаковывает file1
zip name_arh.zip f1 d2 f3	# архивируем файлы и/или папки
# gzip
gunzip file1.gz		# распаковывает file1 и удаляет архив
gzip file1			# сжимает ТОЛЬКО один file1 + удаляет фаил
	tar -cvf name_arh.tar f1 f2 .... # запаковывает(без сжатия) файлы(f1 f2)/dir в архив name_arh 
	gzip name_arh 					 # сжимаем
# создать архив gzip за 1-ну команду	
tar --create --gzip --verbose --file name_arh.gz.tar f1 f2 f3 
tar -czvf name_arh.gz.tar f1 f2 f3
# распаковать gzip за 1-ну команду	
tar --extract --gzip --verbose --file archive.tar 
tar -xzvf archive.tar 
# создать архив bzip2 за 1-ну команду	
tar -cjvf name_arh.tar.bz2 f1 f2 f3
# распаковать gzip за 1-ну команду	
tar -xjvf archive.tar.bz 

```
### Команды для работы с пакетами
```bash
apt update 	   # обновление информации о пакетах из репозиториев
apt upgrade    # обновление всех пакетов  
apt search name  # поиск программы (если большой список|more или |less)
whitch prog_name # путь до проги(whitch firefox)
chmod +x		 # сделать фаил(прогу) исполняемой
apt clean 	   # очищает локальный репозиторий, т.е. удаляет всё, что вы ранее скачивали. Очень полезно иногда прогонять для очистки диска.  
apt autoremove # удаление ранее скачаных, но более ненужных пакетов  
apt remove 	   # удаление пакета из системы, с сохранением его конфигурационных файлов  
apt purge 	   # удаление пакета со всеми зависимостями  
apt install name  # установка пакета.
```
### Управление процессами

```bash
ps  			 # выводит текущие активные процессы 
top -u user_name # выводит троцессы полльзователя
./prog_mane || /полный/путь/name_prog # ЗАПУСК программы 
запуск_прог с & ==  Запуск, Ctrl+Z, bg
chmod +x name_prog  # назначить фаил исполняемым 
kill num_proc 	 # команда отправляет сигнал прекращения работы тому или иному процессу, используется для прекращения работы зависшего приложения 
kill -9 num_proc # "грубо" завершает процесс
killall # kill всех процессов, соответствующих заданным параметрам  
Ctrl+C  # прервать выполнение вызванной через рерминал программы
Ctrl+Z  # усыпить программу вызванную через рерминал 
Ctrl+D  # завершить(закрыть)
fg 		# продолжить(разбудить)
bg 		# продолжить в фоновом режиме

Ctrl+Shift+T # открыть новуювкладку в терминале
Alt+Num		 # ререйти на вкладку терминала под номером Num
Ctrl+Shift+W # закрыть вкладку
```
### Сетевые команды
[[wget]] - скачать фаил по ссылке
```bash
ip addr 	 # IP-адрес, другую статистику всех ваших сетевых интерфейсов
ifconfig "устарел"		# входит в пакет (sudo apt install net-tools) 
curl ifconfig.me		# ip адрес своей машины 
ip route show match 0/0	# адрес шлюза 
ifconfig	  # выводит информацию о сетевых интерфейсах (в windows pconfig)  
pppoeconf  	  # комманда настройки подключения к интернет  
ping host 	  # пропинговать host и вывести результат  
whois domain  # получить информацию whois для domain
route host 	  # показать путь прохождения пакетов, от вас к host  
ufw enable    # включить фаервол
ufw disable   # выключить фаервол.
```
### Работа с сервером
```bash
ssh user_name@server_addres #  подключится к server как user_name
			 	 	 -p # номер порта сервера
ssh-keygen 				# создание ключа
ssh-add 				# добавить включ в систему
~/.shh					# dir c ключами (id_rsa.pub -публичный для встаки в ssh/authoriset_keys)
~/.ssh/authoriset_keys	# dir с ключами (на сервере)
# scp - это утилита, которая работает(копирует) по протоколу SSH
			"откуда копируем"				"куда копируем"
scp -опции user_name1@server_addres1:файл user_name2@server_addres2:файл 
scp -r /home/sergiy/photos root@losst.ru:/root/ # -r рекурсивное копирование локальной директории на удалённую в dir root
		  							 # . - текущая деректория
jobs 		 # запущенные программы (suspended-приостановлена, running )
fg %num_prog # вывод из фонового режима программы под номером
bg %num_prog # запуск работы в фоновом режиме программы под номером

Ctrl+С # завершает процесс.  
Ctrl+Z # приостанавливает процесс.

exit # выйти с сервера	
```
### [[tmux]]
### Прочее команды терминала
```bash
clear  # очищает окно терминала  
nano  # текстовый редактор файлов. есть аналог - `gedit`  
uname -a  # выводит информацию об операционной системе  
who  # показывает, кто сейчас в системе  
whoami  # показывает под каким именем зарегистрирован текущий пользователь 

Ctrl+Shift+T # открыть новуювкладку в терминале
Alt+Num		 # ререйти на вкладку терминала под номером Num
Ctrl+Shift+W # закрыть вкладку
```
### Перенаправление вывода\ввода
`program > file` - запись(с читтого листа) `вывод`а program в фаил file
`program 2> file` - запись(с читтого листа)`ОШИБОК` вывода program в фаил file
`program &> file` - запись(с читтого листа) `вывода и ошибок` program в фаил file
		`>>`добавляет вывод в конец ( не перезаписывает)
`test.py <list.txt >>out.txt 2>>err.txt` - `test` *принимает* `list` вывод в `out`, ошибки в `err` 
 *конвеер *:
`prog | prog1 | prog2 | less` - программы в порядке очереди `принимают` на вход значения из предыдущей, `исполняются`, результат `передают` следующей
### Железо
```bash
free			 # info RAM
nproc || lscpu 	 # CPU
```
### [[ Монритрование ]]
```bash
fdisk -l	# увидеть все подключенные к системе устройства
lsblk 		# именена устройств для чтения компакт дисков
mount file_that_mount dir_where_mount	# коротко
mount опции -t файловая_система -o опции_монтирования файл_устройства папка_назначения
sudu blkid # посмотреть uuid для разделов 
# Размонтировать
sudo umount /mnt    # размонтировать у-во в рапке mnt
lsof -w /mnt        # программы, использующие файл в этой папке (/mnt)
umount -l /mnt		# файловая система будет отключена немедленно(даже если используется)
```
### Hot keys
```bash
Ctrl+Insert || Shift+Ctrl+C # копирование в буфер 
Shift+Insert || Shift+Ctrl+V # вставка из буфера
Ctrl+U 						# вырезать строку целиком
Ctrl+Y						# вставка строки
```
_____________
#### Links
[[Linux]] [[Debian]] [[Bash]] [[startx]] [[Сетевые команды]]