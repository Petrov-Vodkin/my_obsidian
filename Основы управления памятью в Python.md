2021-08-21 10:35
#tag [link](https://webdevblog.ru/osnovy-upravleniya-pamyatju-v-python/)
# Основы управления памятью в Python
### Модификация Garbage Collector

У сборщика мусора Python есть `три поколения (generations)`, по которым классифицируются объекты. Новый объект в начальной точке своего жизненного цикла — это **первое поколение** garbage collector. Если новый объект выживает процесс сборки мусора, то он перемещается в следующее поколение. В каждой из 3 поколений есть специальный счетчик и порог срабатывания, при достижении которых срабатывает процесс сборки мусора. Каждый счетчик хранит количество аллокаций минус количество деаллокаций в данной генерации. `Чем выше поколение, тем реже оно сканируется на мусор`. Так-как новые объекты зачастую имеют очень маленький срок жизни (являются временными), то имеет смысл опрашивать их чаще, чем те, которые уже прошли через несколько этапов сборки мусора. 

Более ранние поколения также собирают мусор чаще, чем высшие поколения. Это связано с тем, что более новые объекты чаще отбрасываются, чем старые.

`Модуль` **`gc`** включает функции для изменения порогового значения, ручного запуска процесса сбора мусора, отключения процесса сбора мусора и т. д.
```py
'проверить пороговые значения разных поколений сборщика мусора '
import gc
print(gc.get_threshold())
# **Пример вывода:**
(700, 10, 10) #  порог 700 для первого поколения и 10 для каждого из двух других поколений.
```
```py
'изменить пороговое значение для запуска процесса сбора мусора'
gc.set_threshold(900, 15, 15)
```
В приведенном выше примере мы увеличили пороговое значение для всех 3 поколений. `Увеличение порогового значения уменьшит частоту работы сборщика мусора`. 

### Зачем выполнять сборку мусора вручную?
```py
'принудительно собирть объекты с garbage collected'
gc.collect()
```
_____________
#### Links
